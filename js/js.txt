‚ñ∂‚ñ™‚óÑ‚ñ≤‚ñº‚ãÜ‚ô•‚ñ∏‚Ä¢¬ª‚Ä∫‚ö†Ô∏èÔ∏èüí°‚öôÔ∏è¬±√ó√∑¬≤‚àöœÄ‚Å∞‚â†‚âà‚â§‚â•√ò‚àû‚úì‚úó‚úñ ‚Ç¨ ‚Üê ‚Üí ‚Üë ‚Üì ‚áÜ‚ô™¬©‚íπ„äø‚Ä†‚Ç±‚Ä¶
‚ãÜconcepts: renamed from liveScript to javaScript
  ‚ñ™place into document: in <head> or just before </body>.
    ‚Ä¢embedded: <script>‚Ä¶</script>
    ‚Ä¢external: <secript src=path/file.js>/*√ò*/</script>
  ‚ñ™loading: <script> pause HTML-parse until (fetch & execute).
   <s defer*src> parallel(fetch,parse), execute after parse-End
   <s async*src> parallel(fetch,parse), pauseParse until execute
‚ãÜdata types:
  ‚ñ™literal:
    ‚ñ∏undefned‚íπ if var declared without initialized.
    ‚ñ∏null: Define this var, but give it no inherent value
    ‚ñ∏boolean: true !false anyVal|false !true NaN''null0undifined
    ‚ñ∏number: ‚Ä¢integer: ¬±#‚â†.0 ‚Ä¢decimal'float: ¬±#.f ‚Ä¢double
    ‚ñ∏string: ‚Ä¢sequence of characters quoted by `|'|"
      ‚Ä¢+|+=operator concat str+str|str+number //string.
      ‚Ä¢backTick template: `str${<expression>str}` preserve WS
      ‚Ä¢\escape just before: \\ \' \" \n?u{a}=newLine \t?u{9}=tab \r?u{d}=carriageReturn \f?u{c}=formFeed \b?u{8}=backSpace \v?u{b}=lineTabulation
        ‚Ä∫\uHHHH \u{H~HHHHHH} \xHH
    ‚ñ∏array: [√ò|item,‚Ä¶?]
      ‚Ä¢items are members of ordered data(even[]&{}) comma separated surrounded by brackets[], indexed from 0
      ‚Ä¢accessed only by index arr[#].
    ‚ñ∏object: {√ò|property:value,method:function(){},‚Ä¶?}
  ‚ñ™‚â†literal: varName|func()|(n?operator)
    ‚ñ∏func(): ‚Ä¢Worning: if assigned‚Üívar, start runing immediately
      ‚Ä¢if contain return: run until return, store returned data.
      ‚Ä¢if return omitted: run all the block, store undefined.
‚ãÜoperators: order: ! ¬±unary,*%/,+-,<=>,== !=,&&,||,?:
  ‚ñ™numeric:+add -subtract *multi /divid %reminder **exponent
    ‚Ä¢increment++ decrement-- by 1 without return sum
      ++increment --decrement by 1 & return sum
    ‚Ä¢assignment: varName =|+=|-=|*=|/=|%=|**=|‚Ä¶ value
  ‚ñ™comparison:===identical'val&type ==equality !== != <=>'#
  ‚ñ™logical: !(not) &&(and) ||(or)
    ‚Ä¢!exp//oppsite-boolean notT=F notF=T !0=T !NaN=T !1=F ‚Ä¶
    ‚Ä¢exp&&exp//TandT=true,false ‚Ä¢exp||exp//ForF=false,true
  ‚ñ™string: +|+=concatecation str+str?n//string
  ‚ñ™ternary: (condition) ? /*if true run this*/ : /*else this*/
  ‚ñ™typeof <expression> //number|string|object
‚ãÜbuilt-in objects:
  ‚Ä¢everything object: window:{document:{html:{body:{‚Ä¶}}}}
  ‚ñ™DOM:Api translate html?xml‚Üí nodesTree accessed by js?ruby?c#‚Ä¶
    ‚Ä¢node in html: el, att, text
    ‚Ä¢document: object represent all html nodes.
      document.getElementById('id').appendChild(
        document.createElement('p').appendChild(
          document.createTextNode('Hi')));
      //<el id=id> now contain <p>Hi</p> as last child
   ‚ñ∏properties
    title //<title>
    body //<body>
    innerHTML //markup
    innerText //output text
    textContent
    parentNode
    style.<cssProperty> //css:hyphen-property ‚Üí js:camelCase
   ‚ñ∏methods
    ‚Ä¢access: singleElement|collection[index]
      $() //in-jQuery === document.querySelectorAll()
      querySelectorAll('s1, ‚Ä¶', ‚Ä¶)
      querySelector('selector')
      getElementById('id') //return 1el
      getElementsByClassName('c1 c2 ‚Ä¶') //els share same classes
      getElementsByTagName('tag') //return all <tag> els
    ‚Ä¢manipulate
      createElement('tag') //saved in memory until we add it
      createTextNode('text') //saved in memory until we add it
      n.cloneNode(boolean)//return copy of node & its subTree?
        //sync issue: .before?after?insertBefore?insertAfter?replaceChild()
      appendChild(node) //#move node‚Üí other parent as last-child
      insertBefore(newNode, previosChild)//move node‚Üías sibling
      insertAfter(newNode, previosNode)//move node‚Üías sibling
      before(n1,‚Ä¶) //p.before(h1, hr)
      after(n1,‚Ä¶) //h1.after(hr, p)
      replaceChild(newNode, previosNode)
        //div[0].replaceChild(newText, paragraph[0]);
      removeChild(node) //div[0].removeChild(paragraph[1]);
    ‚Ä¢att: getAttribute('att') setAttribute('att', 'value')
  ‚ñ™native functions: window.func()
    ‚ñ∏dialog box(show message):
      ‚Ä¢prompt(title,default?)
        msg,[input],(ok)submit,(cancle)null
      ‚Ä¢alert(m)//(ok)
      ‚Ä¢confirm(question)//(ok)true|(cancle)false
    ‚ñ∏return val: ‚Ä¢Date()//date time day GMT
      ‚Ä¢setTimeout(funcName, #'ms) //delay calling funcName()
  ‚ñ™literal properties & methods:
    ‚ñ∏number:
      n.toFixed(+#) //round n.10^#
      (#).toString() //'#'
      Math.floor(#.f) //#
      Math.rendom() //0‚â§return<1
    ‚ñ∏string:
      str[i]//character nth i+1
      .length//#
      Number(√ò?''|'#'|'‚â†#')//0|#|NaN
      parseInt('#'|√ò?''?'‚â†#')//#|NaN
      .includes?startsWith?endsWith(subStr)//boolean
      .indexOf(subStr, from=0)//#,-1
      .slice(start=0,end=str.length)//str‚íπ,'str[s]‚Ä¶str[e-1]'
      .toLowerCase?toUpperCase()//string
      .replace?replaceAll(subStr,newSubStr)//string
      .split(separator,limit?)//[array]
        'a/b/c'.split('/',2) //['a','b']
    ‚ñ∏array:
      arr[i][i] //item nth i+1 of nested arr nth i+1
      .indexOf(item)//+#,-1
      .push(i,‚Ä¶?)//#(arr.length + [i,‚Ä¶?].length), add‚Üíend.
      .unshift(i,‚Ä¶?)//#(new.length), add‚Üístart.
      [‚Ä¶,last].pop()//last, remove last item.
      [first,‚Ä¶].shift()//first, remove first item.
      .splice(start=0,count)//[]‚íπ,[arr[s],‚Ä¶],remove [arr[s]‚Ä¶]
      .map(fN) //({ newArr:[], m:function(){
          for (const i of arr){this.newArr.push(fN(i))}
          return this.newArr} }).m()
        [1,3,5].map(i=>i*2) //[2,6,10]

      .filter(fN'condition)//[matchedItems‚Ä¶]
        //({ newArr:[], m:function(){
          for (const i of arr){if(fN(i)){this.newArr.push(i)}}
          return this.newArr} }).m()
        [0,'1',2,'3'].filter(i=>typeof(i)=='number') //[0,2]
        ['ccc','a','bb'].filter(i=>i.length>=2) //['ccc','bb']
      .toString() //'arr[0],‚Ä¶,arr[arr.length-1]'
      .join(separator=',') //'arr[0],‚Ä¶,arr[arr.length-1]'
    
    ‚ñ∏arrays: 40 method
      constructor: Array()
      Array.isArray(arr)//boolean, alternative to typeof
      Array.
‚ãÜstatements:
  ‚ñ™variable: store reusabel data.
    ‚ñ∏dec&init: const?let name=value,‚Ä¶?;
     ‚Ä¢declaring: const?let name1,‚Ä¶?; ‚ñ∏initializing: name=update;
       ‚Ä∫let declare updatable var, const declare ‚â†updatable var.
       ‚Ä∫const array=[‚Ä¶],object={‚Ä¶}; //content ‚Ä¶ can be updated!.
    ‚ñ∏name: [‚â†0~9][a~Z 0~9 _]‚Ä¶?, case-sensitive, ‚â†js-statement.
    ‚ñ∏scope: ‚Ä¢topLvl: const?let golbal=v; //available everywhere
      ‚Ä¢in function:
        ‚Ä∫const?let local=v; //accessed only in this func.
        ‚Ä∫global=v; //call it will declare global var, undifined
          //issue: unexpected errors, fix: avoid this method.
      ‚Ä¢IIFE: Immediately Invoked Functional Expression
        (function(){local=v}()) //func isolation, local scope
  ‚ñ™function:
    ‚ñ∏custome function:
      ‚Ä¢definition: function fName(args?){‚Ä¶;return ‚Ä¶;/*ignored*/}
      ‚Ä¢invoke=call=execute: fName(a?)//before||after definition
      ‚Ä¢parenthesis() Invoke it Immediately, even if we assign it to variable or as other function argument.
    ‚ñ∏anonymous=nameless: function(){} //usefull as parameter
    ‚ñ∏arrow: (arg1,‚Ä¶)=>{‚Ä¶;return? ‚Ä¶}
      ‚Ä¢only 1 parameter: arg=>{‚Ä¶;return? ‚Ä¶}
      ‚Ä¢only 1 invoked?returned line: (a1,‚Ä¶)=>‚Ä¶
    ‚ñ∏scope: ‚Ä¢global: function(){};
      ‚Ä¢temporary: (function(){})();
    ‚ñ∏argumets: optional? if arg=initialized, can be comma list
    ‚ñ∏block{}: can contain variables, loops, functions, ?
    ‚ñ∏return keyword:
      ‚Ä¢stop executing, & ignored below code.
      ‚Ä¢give the fonction ability to be a variable with dynamic value (can be customized by arguments).
      ‚Ä¢if 'return' omitted, return undefined
  ‚ñ™flow control:
    ‚ñ∏if(condition1 met){ //execute block1
        }else if(condition2 met) { //execute block2
        }‚Ä¶else{ //execute last-block}
      ‚Ä¢condition: boolean|operator == != === !== <=>|method|func
        true !false anyVal|false !true NaN''null0undifined
      ‚Ä¢block can contain 'return', nest other if statement.
    ‚ñ∏switch(<choice>'exp) { case <choice1>: /*code1*/; break
                            case <choice2>: /*code2*/; break ‚Ä¶
                            default?: //code }
    ‚ñ∏for (const i of arr) {console.log(i)}
      for (let i=0; i<arr.length; i++) {console.log(arr[i])}
      ‚Ä¢break keyword stops loop entirely.
      ‚Ä¢continue keyword skips current instance of loop to next
      ‚Ä¢scope issue: nested funcs treats vars globally, fix:
        (function(i){return function(){/*temporary vars*/} })(i)
      ‚Ä¢benefits: ‚Ä∫we can apply styles to list of elements.
        ‚Ä∫add|remove|change attributes to each element from long list(like inputes).
        ‚Ä∫creat arrays to build filters of search element & ‚Ä¶
    ‚ñ∏while(condition){}| do{}while(condition)
      ‚Ä¢break keyword stops loop entirely.
      ‚Ä¢continue keyword skips current instance of loop to next
  ‚ñ™object:
    ‚ñ∏literal object: created manually
      const leteralObjectName = {
        propertyMemberName: data, ‚Ä¶, //as variables
        methodMemberName(){}, ‚Ä¶, //as functions
          methodMemberName: function(){}, ‚Ä¶ //old syntax
      }
    ‚ñ∏access members: const obj = { pro:{pro1:data}, method(){} }
      ‚Ä¢by Dot.notation:  obj.pro.pro1 //return data.
        obj.method() //invoke its {/*block*/}.
      ‚Ä¢by bracket-notation[dynamicVariable]:
        obj['pro']['pro1'] //return data.
        obj['method']() //invoke its {/*block*/}.
      ‚Ä¢this keyword: refers to current object.
    ‚ñ∏updating existing members:
      obj.pro.pro1|obj['pro']['pro1'] = update
      obj.method|obj.['method'] = ()=>{/*update*/}
    ‚ñ∏setting new members:
      obj.pro.newPro|obj['pro']['newPro'] = data;
      obj.newMethod|obj['newMethod'] = ()=>{}
    ‚ñ∏construction:
      ‚Ä¢consept: everything are inctance of build-in object
        ex: any 'string' we create automaticly are instance of build-in string object, and share all its properties and methods.
      ‚Ä¢old trick:
        function createNewObj(args){
          return {property: data, method(){}} }
        const instance = createNewObj(args);
      ‚Ä¢new keyword:
        function refersToNewObj(args){
          this.property = data; this.method = ()=>{} }
        const instance = new refersToNewObj(args)
          ‚Ä∫create a new object.
          ‚Ä∫match 'this' keyword to the new object.
          ‚Ä∫run the code in the constructor.
          ‚Ä∫return the new object.
    ‚ñ∏prototype chain:
      ‚Ä¢default & last chain: Object.prototype.__proto__//null
        Object.protorype = {
          constructor: ∆í Object(),
          hasOwnProperty: ∆í hasOwnProperty(),
          isPrototypeOf: ∆í isPrototypeOf(),
          propertyIsEnumerable: ∆í propertyIsEnumerable(),
          toLocaleString: ∆í toLocaleString(),
          toString: ∆í toString(),
          valueOf: ∆í valueOf(),
          __defineGetter__: ∆í __defineGetter__(),
          __defineSetter__: ∆í __defineSetter__(),
          __lookupGetter__: ∆í __lookupGetter__(),
          __lookupSetter__: ∆í __lookupSetter__(),
          __proto__: null,
          get __proto__: ∆í __proto__(),
          set __proto__: ∆í __proto__()
        }
      ‚Ä¢shadowing properties:
        calling ourObj.member will check for member in ourObj
          else in its ourObj.__proto__, 
          else in ourObj.__proto__.__proto__, else ...,
          else & lastly in Object.prototype
        if find it call it & end prototype chain immediately
        else return undefined.
      ‚Ä¢accessing obj prototype:
        myObj.__proto__ ‚úó| Object.getPrototypeOf(myObj) ‚úì
      ‚Ä¢setting a prototype:
        ‚Ä∫using Object.create():
          const ourProto = {‚Ä¶}
          const instance = Object.create(ourProto)
          Object.getPrototypeOf(instance) //ourProto
          Object.getPrototypeOf(ourProto) //Object.prototype
        ‚Ä∫using constructor:
          const templateProto = {
            greet() { console.log(`hi I'm ${this.name}!`) }
          }
          function template(name){this.name=name}
          template.prototype = templateProto
          template.prototype.constructor = template
          //by default template.prototype.constructor = Object
          const instance1 = new template('instance1')
          instance1.greet() //hi I'm instance1
      ‚Ä¢own property
        Object.hasOwn(ourObj,'property?method Name')//boolean
        if member defined in the instance as ins.member //true
        else if defined in constructor as this.member //true
        else if defined in constructor without this. //false
        else if defined in prototype //false
  ‚ñ™object oriented programming: pseudo code:
    ‚ñ∏classes & instances:
          ‚Ä¢class templateName
            properties
              pro1
              pro2
            constructor
              templateName(pro1,pro2)
            methods
              method1()
              method2()
          ‚Ä¢instance1 = new templateName(v1,v2)
            instance2 = new templateName(v3,v4)
            instance1.pro1 //v1
            instance1.pro2 //v2
            instance2.pro1 //v3
            instance2.pro2 //v4
    ‚ñ∏inheriance: (extends)
          ‚Ä¢class superParent
            properties
              pro1
            constructor
              superParent(pro1)
            methods
              method1()
              method2()
          ‚Ä¢class subChild1 : extends superParent
            properties
              //pro1 inherited from superParent class
              pro2
            constructor
              subChild1(pro1,pro2)
            methods
              //method1 inherited from superParent class
              method2()//polymorphism:override the inherited one
              method3()
    ‚ñ∏encapsulation: in js private member name star with _
      ‚Ä¢class subClass : extends superClass
            properties
              private pro
            methods
              multi(multiplay){return this.pro * multiplay}
      ‚Ä¢instance = new subClass
            instance.pro //error: pro private of subClass
  ‚ñ™class: template allow us consructor derive instances.
    ‚ñ∏classes & constructors:
      class super{
        pro; //optional, can be initialized pro=val.
        constructor(arg){ this.pro = arg }//pro auto-declared
        method(){ console.log(`hi I'm ${this.pro}`) }
       }
      ‚Ä¢constructor will: can be omitted(default auto-generated)
        create new object
        match this keyword in the now object
        run the code in the constructor
        return the new object
    ‚ñ∏inheritance:
      class sub extends super{
        constructor(arg1,arg2){
          super(arg1) //super.constructor(arg1){this.pro=arg1}
          this.pro2 = arg2
        }
       }
    ‚ñ∏Encapsulation: prefix member by #name
      class ex{
        #privatPro //must be declared, not optional.
        constructor(arg){ this.#privatPro = arg }
        public(){ this.#private() }
        #private(){ console.log('I\'m private') }
      }
      const ins = new ex()
      ins.public() //I'm private
      ins.#private() //syntax error
      ins.#privatPro //syntax error
  ‚ñ™json(javaScript object notation):
    ‚ñ∏importing:
      async fn(){
        const request = new Request('url.json')
        const response = await fetch(request)
        const jsonObj = await response.json()
        //const deSerialization = await Json.parse(response.text())
        //const serialization = Json.stringify(deSerialization)
      }; fn()
    ‚ñ∏json are string usefull to transmit data between server & client
    ‚ñ∏can contain single #number, [array], {object}, 'string'
    ‚ñ∏we required to double quote objects "properties": value 
    ‚ñ∏there no methods in objects.
  ‚ñ™promise: (synchronous ‚â† asynchronous)
    ‚ñ∏demo:
      const api = api(arg)
      console.log(api) //Promise {<pending>}
      api.then(resp => console.log('response: ' + resp.status))
      console.log('I\'ll log before Promise "settled"')
    ‚ñ∏chaining promise:
      api(arg)
        .then(a => doSomthing(a)) //return promise
        .then(a => doThis(a))
    ‚ñ∏catching errors:
      api(arg)
        .then() //invoked if promise fulfilled
        .then() //invoked if promise fulfilled
        .catch(err=>console.error(`error: ${err}`))
          //invoked if promise rejected
    ‚ñ∏primary promise states:
      ‚Ä¢pending: the initial state, until settled.
      ‚Ä¢settled:
        ¬ªfulfilled: return value(# || 'str' || {}).
          ‚Ä∫invoke then()'s one by one
        ¬ªrejected: because of reason(prevent fulfillement).
          ‚Ä∫invoke catch()
    ‚ñ∏combining multiple promises:
      ‚Ä¢Promise.all([promise1, ‚Ä¶])
        .then() //invoked if all promises fulfilled
        .then( responses => {
          for (const response of responses) {
            if (!response.ok) {
              throw new Error(response.status)
            }
            console.log(`${response.url}: ${response.status}`)
          }
        })
        .catch() // invoked if any promise rejected
      ‚Ä¢Promise.any([promise1, ‚Ä¶])
        .then() //invoked if any promise fulfilled
        .catch() //invoked if all promises rejected
    ‚ñ∏new syntax: then ‚Üí await
      async function name() {
        try{
          const response = await fetch('url.json')
          if (!response.ok) {
            throw new Error(`HTTP error: ${response.status}`)
          }
          const json = await responce.json()
          return json
        }
        catch(err) { console.error(err) }
      }
      name() //don't wait, parse next line.
    ‚ñ∏resolve:
      ‚Ä¢resolve():
        const myPromise = new Promise((resolve,reject) => {
          //doSomthing ‚Üí fulfillement
          if (fulfillement){
            resolve('pass fulfillement value or promise')
          } else { reject() }
        })
      ‚Ä¢return promise():
        function name() {
          return func1().then(r => return func2(r))
        }
      ‚Ä¢Promise.resolve(input)
        .then(x => /*doSomthing*/)
        //promise chain
  ‚ñ™workers:
    ‚ñ∏dedecated workers: used by single script instance.
      ‚Ä¢demo:
        //main.js:
        const worker = new Worker('path/worker.js')
        document.querySelector('button').addEventListener('click', () => {
          worker.postMessage({
            command: 'doTask1',
            otherJsonProperty: 'passValue'
          })
          worker.addEventListener('message', m => 
            document.querySelector('output').textContent = m.data
          , { once: true })
        }, { once: true })
        
        //worker.js:
        addEventListener('message', m => {
          if (m.data.command === 'doTask1') {
            task1(m.data.otherJsonProperty)
          }
        })
        function task1(arg){
          //doSomthing to arg ‚Üí result
          postMessage(result)
        }
      ‚Ä¢seprate script run in its oun thread (each cpu(2~8) core can parse limeted number(1~4) of thread)
    ‚ñ∏shared workers: used by script's runing in differ windows
    ‚ñ∏server workers: like proxy server, cache resource for offline usage.
  ‚ñ™apis(application programming interface):
    ‚ñ∏shared:
      ‚Ä¢all apis based on Objects store data in prop#erties and functionality on methods.
      ‚Ä¢all have one entry point object contain all properties && methods like document|audioContext
      ‚Ä¢almost all have events hanlers
      ‚Ä¢often have additional security mechanisms (same-origin policy| Notifications api| autoplay policy| ‚â†offline)
    ‚ñ∏
‚ãÜevents:
  ‚ñ™mechanisms: obj.addEventListener('event',l,boolean?option)‚úì
  |<el onevent=l()|/*code*/> ‚úñ| n.onevent=l ‚úñ
  ‚ñ™on|event:
    ‚ñ∏window: ¬ªdesktop: on|mousemove, mouseover, mouseout
    ¬ªgeneral:DOMContentLoaded, devicemotion, deviceorientation
      ‚Ä∫on| focus, blur, load, beforeunload, unload, error, pagehide, pageshow, resize, copy, cut, paste, offline, online, hashchange, transitionstart, transitionrun, transitionend, transitioncancel, animationstart, animationiteration, animationend, animationcancel, 
    ‚ñ∏document: ¬ªm: on|touchend,touchcancel,touchmove,touchstart
    ¬ªgeneral: on|click, dblclick, scroll, input, change, visibilitychange, copy, cut, paste, selectstart, selectionchange, transitionstart, transitionrun, transitionend, transitioncancel, animationstart, animationiteration, animationend, animationcancel, 
    ¬ªdesktop: DOMContentLoaded, readystatechange
      ‚Ä∫on|wheel, drag, dragend, dragenter, dragleave, dragover, drop, fullscreenchange, fullscreenerror, keyup, keydown, keypress(removed)
  ‚ñ™listener(eventHandler):funcName| function(){/*anonymous*/}|
    ()=>{}| (function(){/*temporary scope*/})()
    ‚Ä¢automaticly pass event parameter to the func listener
      funcName‚ÜífuncName(e)
  ‚ñ™boolean: false‚íπ//targer‚Üíbubbling, true//capturing‚Üítarget
    phases run by order: nested els have same 'event'
    ‚Ä¢capturing: check&run listeners from window ‚Üí‚Ä¶‚Üí parent
    ‚Ä¢target: check&run listener registed on e.target, thene if e.bubbles==true‚íπ: propagates evt to parent ‚Üí‚Ä¶‚Üí window
    ‚Ä¢bubbles up: check&run listeners from parent ‚Üí‚Ä¶‚Üí window
    ‚Ä∫if we add two addEventListener() one false & other true:
      phases: capturing ‚Üí target ‚Üí target again ‚Üí bubling
    ‚Ä∫to prevent capturing|bubbling, listener must be:   
      e=>{e.stopPropagation();‚Ä¶}
    ‚Ä∫to target just all childrens of parent:
      parent.addEventListener('event', e=>{e.target.‚Ä¶;‚Ä¶})
    ‚Ä∫to target just parent:
      p.addEventListener('event', e=>{e.currentTarget.‚Ä¶;‚Ä¶})
  ‚Ä¢options: {
    once: boolean, //call .removeEventListener() after 1listen
    capture: boolean, //??
    passive: boolean, //??
    signal: controller.signal //can passed to many listeners
      //on topLvl: const controller = new AbortController()
      //remove any/all listeners: controller.abort()
    }
  ‚ñ™multi listeners on one event:
    obj.addEventListener('sameEvent',l1)
    obj.addEventListener('sameEvent',l2)
  ‚ñ™removeEventListener('event', funcName)//unlisten
  ‚ñ™remove all: const controller = new AbortController();
    obj.addEventListener('event',l,{signal:controller.signal})
    controller.abort() //unlisten to any event share {signal}

‚ñ∏2022‚ñ∏
‚ñ∂‚ñ™‚óÑ‚ñ≤‚ñº‚ãÜ‚ô•‚ñ∏‚Ä¢¬ª‚Ä∫‚ö†Ô∏èÔ∏èüí°‚öôÔ∏è¬±√ó√∑¬≤‚àöœÄ‚Å∞‚â†‚âà‚â§‚â•√ò‚àû‚úì‚úó‚úñ ‚Ç¨ ‚Üê ‚Üí ‚Üë ‚Üì ‚áÜ‚ô™¬©‚íπ„äø‚Ä†‚Ç±‚Ä¶
‚ãÜconcepts
  ‚ñ™specification
    ECMA(European Computer Manufacturers Association)
  ‚ñ™all variables declared by var(not let|const) and functions declared on topLvl are members of global object, in the web is Window, on node is global, global object can be accessed by globalThis property, regardless of the envirment.
  ‚ñ™limitation
    to save users privecy
    ‚Ä¢same origin policy: js access same only domain && protocole tabs, else it need agreament from both domains to exchange data
    ‚Ä¢js can't access os functions
    ‚Ä¢js can't access memmory, cpu
    ‚Ä¢js can access camera and microphone only after user permission
    ‚Ä¢js can access user storage only by <input>
  ‚ñ™engine
    v8: used by bowsers chrome edge opera, run_time node deno
    spiderMonkey: in firefox
    chakra: in IE
    ‚ÄúJavaScriptCore‚Äù, ‚ÄúNitro‚Äù and ‚ÄúSquirrelFish‚Äù: for Safari
    ‚Ä¢how it work: parse scripts, compile to 01s, machine execute it.
‚ãÜmarkup
  ‚ñ™<script src> /*ignore any code*/ <script>
  ‚ñ™comments: toggle line|block:  ctrl /, ctrl shift /
    ‚ö†Ô∏èÔ∏ènested comments throw error: /* /* error */ */
‚ãÜconsole & debugging:
  enabled by F12
  show us errors on which files and line
  we can execute code
  multi lines by: Shift Enter
‚ãÜrun time
  node file.js
  deno run file.ts
‚ãÜfundomintal
  ‚ñ™'use strict';
    string added globaly before any code (except comments)
    or just before function (scope only its body)
    or (function() {'use strict'; /*scoped modern syntax*/ })()
    enable modern modification to old javaScript syntax
    ‚ö†Ô∏èÔ∏ècan't be disabled once it enabled
    üí°enabled by default (can  be omitted) on classes & modules
    ‚Ä¢prevent auto declaration
      undefined_var = val //error undefined_var are not declareds
  ‚ñ™declarations let|const
    let name //declare
    name = value //assignment
    let name = value //declaration & assignment
    let name1 = value1 , n2 = v2, //multi dec & ass, same line
      n3 = v3,                //new line style
      n4 = v4
      , n5 = v5;             //new line, comma first style
      , n6 = v6
  ‚ñ™constants unReAssignable variables
    const CapitalCase = 'used before parsing by devs'
    const camelCase = `on parsing, ex time is ${Date()}`
  ‚ñ™naming variables & function: [‚â†digit][letter digit $ _]...
    ‚ö†Ô∏èÔ∏ècaseSinsitive, ‚â†statement_name(as: new let class ...)
    üí°naming must be meaningfull, and more specific even if longer (ex: the visitor name become: currentUserName)
‚ãÜdata types 8
  ‚ö†Ô∏èÔ∏ètypeof
    typeof null // 'object'
      js language error, it must be 'null'
    typeof alert // 'function'
      incorrect behavior, it must be 'object'
  ‚ñ™object can stor collection of values
    ‚ñ∏have members:
      ‚Ä¢propersy
      ‚Ä¢methodes
  ‚ñ™primative can stor single value
    ‚ñ∏symbol create unique identifier to objects keys
    ‚ñ∏boolean
      ‚Ä∫truthy|falsy
        const falsy = Boolean(
          false || !true || ¬±0 || '' || undefined || null || NaN || Boolean(/*empty*/)
        )
        const truthy = Boolean(
          anyValueNotFalsy && true && !false && [] && {} && new Boolean(false) && 'false'
        )
        ‚ö†Ô∏èÔ∏èEquality operator comparing just arr|obj.toString()
          const falsy = Boolean(array == true || object == true)
          const truthy_exceptions = Boolean(
            [1] == true && new Boolean(true) == true
          )
      ‚Ä∫convert expression to boolean:
        const bool = !!(expression),
          bool2 = Boolean(expression),
          bool3 = (new Boolean(expression)).valueOf()
      ‚Ä∫constructor: Boolean()
      ‚Ä∫instrnce methods:
        Boolean.prototype.toString()//'true|false'
        Boolean.prototype.valueOf()//true|false
    ‚ñ∏null
      const a = null //value unknown | nothing | empty
      ‚ö†Ô∏èÔ∏èis not reference to non-existing object | pointer null
      ‚ö†Ô∏èÔ∏èbug: typeof null //object
    ‚ñ∏undefined
      globalThis.undefined //![Whritable,Enumerable,Configurable]
      const a //a initialized with undefined
      functino f(){/*dont return vaule*/} //f() returns undefined
      ‚Ä¢check if a are undefined:
        typeof a              //undefined, even if undeclared
        a === undefined       //ReferenceError if undeclaredr
        a === void 0          //ReferenceError if undeclaredr
        a in window|global    //ReferenceError if undeclaredr
    ‚ñ∏number
      ‚Ä¢float ¬±#.f | integer ¬±# (‚â†¬±#.0) | NaN (safe alternative to error) | ¬±Infinity
      ‚Ä¢constructor: Number()
      ‚Ä¢convert expression to number: Number(expression) | +exp
        null//0
        undefined//NaN
        boolean//0|1
        '  \n\t    ##      '//number, except on concatenation +
        ''//0
        ' <ws?> '//0
        '  ‚â†#   '//NaN
      ‚Ä¢
    ‚ñ∏bigint (big integers)
      ‚Ä¢numbers finited on ¬±1.7976931348623157 * 10^308, crossing the limitation will be treats as ¬±Infinity
      ‚Ä¢numbers preserve save integer range of ¬±(2^53-1) = 9 007 199 254 740 991 nine quatrillions, crossing the limitation will incorrectly treats odds integers as next even integer
        console.log(9007199254740991 + 1); // 9007199254740992
        console.log(9007199254740991 + 2); // 9007199254740992
      ‚Ä¢bigint can preserve integers over ¬±(2^53-1), but must postfixed by n:
        ¬±1234567890123456789012345678901234567891n
    ‚ñ∏string
      ‚Ä¢surrounded by 'pair single quotes', "pair double quotes", `pair backTicks let us embed ${expressions}`
      ‚Ä¢convert expression to string

‚ãÜexprissions and operators
  ‚ñ™primary expressions
  ‚ñ™left-hand-side expressions
  ‚ñ™operators concepts
    ‚Ä¢precedence
      18 groping                              (‚Ä¶)
      17 member access ‚Üí                      ‚Ä¶.‚Ä¶
        computed member access                ‚Ä¶[‚Ä¶]
        new,with argument list                new ‚Ä¶(‚Ä¶)
        function call                         ‚Ä¶(‚Ä¶)
        optional chaining ‚Üí                   ‚Ä¶?.‚Ä¶
      16 new,without argument list            new ‚Ä¶
      15 postfix increment|decrement          ‚Ä¶++ | ‚Ä¶--
      14 prefix increment|decrement           ++‚Ä¶ | --‚Ä¶ 
        unary plus|negation                   +‚Ä¶ | -‚Ä¶
        logical not                           !‚Ä¶
                                              typeof ‚Ä¶
                                              void ‚Ä¶
                                              delete ‚Ä¶
                                              await ‚Ä¶
      13 exponentiation ‚ö†Ô∏èÔ∏è‚Üê                   ‚Ä¶**‚Ä¶
      12 multiplication|division|reminer ‚Üí    ‚Ä¶*‚Ä¶ | ‚Ä¶/‚Ä¶ | ‚Ä¶%‚Ä¶
      11 addition | subtraction ‚Üí             ‚Ä¶ + ‚Ä¶ | ‚Ä¶ - ‚Ä¶
      9  less|greater than or_Equal? ‚Üí        ‚Ä¶<‚Ä¶|‚Ä¶>‚Ä¶|‚Ä¶<=‚Ä¶|‚Ä¶>=‚Ä¶
        in | instanceof ‚Üí                     ‚Ä¶in‚Ä¶|‚Ä¶instanceof‚Ä¶
      8 (strict?) equality|inequality ‚Üí    ‚Ä¶==‚Ä¶|‚Ä¶!=‚Ä¶|‚Ä¶===‚Ä¶|‚Ä¶!==‚Ä¶
      4 logical and ‚Üí                         ‚Ä¶&&‚Ä¶
      3 logical or | nullish coalescing ‚Üí     ‚Ä¶||‚Ä¶ | ‚Ä¶??‚Ä¶
      2 assignment ‚ö†Ô∏èÔ∏è‚Üê                        ‚Ä¶=‚Ä¶| ‚Ä¶+=‚Ä¶| ‚Ä¶-=‚Ä¶| ‚Ä¶/=‚Ä¶| ‚Ä¶%=‚Ä¶| ‚Ä¶*=‚Ä¶| ‚Ä¶**=‚Ä¶| ‚Ä¶&&=‚Ä¶| ‚Ä¶||=‚Ä¶| ‚Ä¶??=‚Ä¶
        ternary 'conditional' ‚ö†Ô∏èÔ∏è‚Üê(nested 1st) ‚Ä¶?‚Ä¶:‚Ä¶
        arrow                                 ‚Ä¶=>‚Ä¶
                                              yield ‚Ä¶ | yeild* ‚Ä¶
        spread                                ...‚Ä¶
      1 comma/sequence ‚Üí                      ‚Ä¶,‚Ä¶
  ‚ñ™access member operators
    üí°white space allowed, [spases, tabs, new line's]
    ‚Ä¢dot notation:       obj <white space?> . <ws?> member
      ‚ö†Ô∏èÔ∏è#.member//typeError, . act as number_fraction_dot
        fix: # .member | #..member | #.0.member | (#).member
      ‚ö†Ô∏èÔ∏èobj.#//typeError, fix: obj[#]
    ‚Ä¢bracket notation:   obj <ws?> [expression: 'memberName']
  ‚ñ™increment & decrement (update var & return its old|new val)
    ‚Ä¢postfix: console.log(v¬±¬±)//return old v, before ¬±1
    ‚Ä¢prefix: console.log(¬±¬±v)//return new v, after ¬±1
  ‚ñ™unary operators
    ‚ñ∏in
      a in context
      global_web in window
      global_node in global
    ‚ñ∏typeof
      typeof('paretheses are not func') //'string'
      typeof undeclared_var //'undefined'
  ‚ñ™arithmetic operators
    ‚Ä¢boolean treated as 1|0, except concatenation +(strings)
    ‚ñ∏addition|concatenation a+b
      addition: one + true //1+1
      concatecation: false + 'less' //'falseless'
    ‚ñ∏subtraction a-b
    ‚ñ∏devision a/b
      a/-0.0 //-Infinity
    ‚ñ∏remainder a%b // a - integer * b
      -# % ¬±# //-#
      # % ¬±# //+#
      NaN % # //NaN
      Infinity % # //NaN
      Infinity % Infinity //NaN
      ¬±# % Infinity //¬±#‚ñ∏multiplication a*b
      Infinity * 0 //NaN
      Infinity * Infiniyt //Infinity
    ‚ñ∏exponentiation a**b //Math.pow(a,b)
      NaN ** a // NaN
      ‚ö†Ô∏èÔ∏èlimitation: base number cannot prefixed by unary operator [- + ~ ! delete void typeof]
        <unary>2 ** -2   //TypeError
        instead use: <unary>(2 ** -2),or ( <unary>2 ) ** -2
  ‚ñ™comparison operators
    ‚ñ∏less|grater then orEqual?: a < | > |<= | >= b //bool
    ‚ñ∏in?equality a == | != b //bool
      ‚ö†Ô∏èÔ∏ènull == undefined, but null|undefined != any other value
        null|undefined do not converted to Number 0|NaN !!
    ‚ñ∏strict in?equality a === | !== b //bool
      compare type, then compare value
      üí°function type determined by its returned value type
    üí°differ type automaticly converted to Number (not string)
      undefined‚ÜíNaN, null‚Üí0 (except on == operator)
    üí°strings of numbers automaticly converted to Numbers
      surrounded white space ignored including \n \t
    üí°dictionary: strings compared by characters unicode 1by1
      if same nth have same unicode than continue comparison untill find differ.
      0~6: ÔøΩ‚ò∫‚òª‚ô•‚ô¶‚ô£‚ô†
      b~c: ‚ôÇ‚ôÄ
      e~1a: ‚ô´‚òº‚ñ∫‚óÑ‚Üï‚Äº¬∂¬ß‚ñ¨‚Ü®‚Üë‚Üì‚Üí
      1c~1f: ‚àü‚Üî‚ñ≤‚ñº
      20: space
      21~2f: !"#$%&'()*+,-./
      30~39: 0123456789
      3a~40: :;<=>?@
      41~5a: ABCDEFGHIJKLMNOPQRSTUVWXYZ
      5b~60: [\]^_`
      61~7a: abcdefghijklmnopqrstuvwxyz
      7b~7f: {|}~‚åÇ
      a1~ac: ¬°¬¢¬£¬§¬•¬¶¬ß¬®¬©¬™¬´¬¨
      ae~bf: ¬Æ¬Ø¬∞¬±¬≤¬≥¬¥¬µ¬∂¬∑¬∏¬π¬∫¬ª¬º¬Ω¬æ¬ø
      c0~ff:√Ä√Å√Ç√É√Ñ√Ö√Ü√á√à√â√ä√ã√å√ç√é√è√ê√ë√í√ì√î√ï√ñ√ó√ò√ô√ö√õ√ú√ù√û√ü√†√°√¢√£√§√•√¶√ß√®√©√™√´√¨√≠√Æ√Ø√∞√±√≤√≥√¥√µ√∂√∑√∏√π√∫√ª√º√Ω√æ√ø ‚Ä¶
  ‚ñ™logical operators
    üí°and & or operators convert each operand to boolean from left to right, but return original value.
    ‚ñ∏and a && b && c //return first_falsy-operand | last_operand
    ‚ñ∏or a || b || c //return first_truthy_operand | last_operend
    ‚ñ∏nullish coalescing a ?? b ?? c //return 1st_defined | last
      return first defined operand who are not: null | undefined, else return last operand (fallback)
      ‚ö†Ô∏èÔ∏ètypeError if combined with || or &&, (use parenthesis)
  ‚ñ™conditional operator (ternary)
  ‚ñ™assignment operators (copy value to variable & return it)
    üí°return NaN if one of operends are string (except on concatecation assignmeng +=)
    üí°boolean converted to 1|0 (except on concatecation assignment +=)
    ‚ñ∏assignment =
      let a = 1, b = 2, c = 3, d = 4
      a = b                         //simble assignment
      console.log(a)//2
      a = b = c = d                 //chaining assignment
      console.log(a, b, c, d);//4 4 4 4
    ‚ñ∏addition|concatenation assignment: a += b // a = a+b
      ‚Ä¢addition
        one += true         //1+1 = 2
        b_false += true     //0+1 = 1
      ‚Ä¢concatenation (if one|both operends are 'string')
        one += 'rule'       //1rule
        b_true += ' access' //'true access'
    ‚ñ∏subtraction assignment: a += b // a = a-b
    ‚ñ∏division assignment: a /= b // a = a/b
      a /= 0 //¬±Infinity
    ‚ñ∏remainder assignment: a %= b // a = a % b
      ten %= 3 //10%3 = 10-3*3 = 1
      a %= true = 1 //0
      a %= 0 //NaN
    ‚ñ∏multiplication assignment: a *= b //a = a*b
    ‚ñ∏exponentiation assignment: a **= b // a = a**b
    ‚ñ∏
    ‚ñ∏
    ‚ñ∏
    ‚ñ∏
    ‚ñ∏
    ‚ñ∏destructuring assignment
      ‚Ä¢patterns
        ‚ÅÉbinding: start by let|const|var
          //TypeError, double const
          const arr = []; const [arr[0]] = [1]//const arr[0] = 1
        ‚ÅÉassignment: pre declared variables | obj.pro | arr[i]
          //TypeError, semecolon; and parenthesis() required
          ‚Ä∫const p1;
           {p1} = {p1:1} //parenthesis() missing
          ‚Ä∫const p2      //semicolon; missing
           ({p2} = {p2:2})
      ‚Ä¢default: any expression(or function) invoked if match no value | undefined, ‚â†null
        ‚ÅÉcan be destructuring object
          const {a = 'default', b = {p:'default'}} = {a;'override',b:{p:'override'}}
        ‚ÅÉin func we can set {} default to left-hand destructure
          function f({ a = 'default' } = {})
      ‚Ä¢array only
        ‚ÅÉignore item|all from array-like ‚â†object by passing empty comma
          const [a,,c] = ['a','ignored','c']
          const [,,] = array-like()
        ‚ÅÉrest: (just array)
          ‚Ä∫must be the last one, prefix(...) & ‚â†postfix(,comma)
            const [a, ...b] = ['a', 'b1', 'b2']
          ‚Ä∫it even can be array[]
            const [a, ...[b, c]] = ['a', 'b', 'c']
          ‚Ä∫or even nested in another array rest 
            const [a, ...[b,...[c]]] = ['a', 'b', 'c']
      ‚Ä¢object only: 
        ‚ÅÉextract properties as same-name|renamed variables, with optional default value.
          const {p,p:rename='default'} = {p:1}
          console.log([p,rename])//[1,1]
        ‚ÅÉcomuped properties names
          const propertyName= 'name'
          const {[propertyName]:rename='default'} = {name:'n'}
          rename//n
        ‚ÅÉinvalid property name identifier must be renamed
          const {'invalid-identifier':rename} = {'invalid-identifier':1}
          rename// 1
          invalid-identifier//TypeError
      ‚Ä¢swap variable|.property|[item] without temp variables
        ‚ÅÉlet a=1,b=2,c=3; [a,b,c] = [b,c,a]
         console.log([a,b,c]) //[2,3,1]
        ‚ÅÉconst arr=[1,2,3]; [arr[1],arr[2],arr[0]] = arr
         console.log(arr)//[2,3,1]
        ‚ÅÉconst obj = {p1:1, p2:2, p3:3}
         [p1,p2,p3] = [p2,p3,p1]
         console.log(obj)//{p1:2, p2:3, p3:1}
      ‚Ä¢parse array-like returned from function
        function arrayLike(){
          return 'abc'
        }
        [a,b,c] = arrayLike()
        console.log([a,b,c]) //['a','b','c']
      ‚Ä¢used inside for...in|of loops, function parameters, catch
      ‚Ä¢function parameper can be obj destructuring
        function id({ id }) { return id }
        id({ id:1, name: 'something' }) //1
        ‚ÅÉor even nested obj
          function firstName({ fullName: { firstName: fn = 'guest' } }) {
            return fn
          }
          firstName({ fullName: { firstName: 'uni' } }) //uni
      ‚Ä¢nesting: we can nest obj|arr|both
        const person = [{
          family:{ brothers: ['jack', 'stive'] }
        }]
        [{family:{brothers:[bro1,bro2]}}] = person
        bro1  //jack
        bro2  //stive
      ‚Ä¢for loop:
        const users = [{id:1,name:'a'}, {id:2,name:'b'}]
        for (const {id, name} of users) {
          //do something by id's and name's
        }
      ‚Ä¢prototype chain accessed by destructuring
        const planet = { 'salor-system': 'milky way'}
        earth = Object.create(planet);
        ({ 'salor-system': galaxy } = earth)
        galaxy//milky way
      ‚Ä¢required RegExp.prototype.exec()
      ‚Ä¢required Sympbol.iterator
  ‚ñ™comma operator (evaluate, than return last operend)
    let x = 0
    x = (x++, console.log(x), 0) //x=0, log:1
    
    for (let i = 0, j = 5; i <= 5; i++, j--) {
      console.log(`i=${i}, j=${j}`);
    }

‚ãÜbuilt-in objects
  ‚ñ™Object:
    ‚ñ∏
‚ãÜApi

‚ñ∏2023‚ñ∏
‚ãÜjs:
  ‚ñ™data types "primitive"
    üí°node:
    ‚ñ∏number
      üí°zeros to e
        3.1 billion: 3.1e9 = 3_100_000_000 = 3100000000
        3.1 nano: 3.1e-9 = .000_000_003_1 = .0000000031
      .toString(base? = 10 : 2~36) // 255..toString(16) == 'ff'
        üí°255 = 0xff hex = 0b11111111 binary = 0o377 octal
      rounding:     Math.floor(n) .ceil(n) .round(n) .trunc(n)
        1.0 ~ 1.49         1         2        1         1
        1.5 ~ 1.99         1         2        2         1
        -1.49 ~ -1.0      -2        -1       -1         1
        -1.99 ~ -1.5      -2        -1       -2         1
        #.f (f</>5)        #        #+1     #/#+1       #
        -#.f (f</>5)     -#-1       -#     -#-1/-#     -#
      .toFixed(nth? = 0) // (Math.PI).toFixed(2) == 3.14
      Number.isNaN(n) // boolean
      Number.isFinite(n | Infinity) // true | false
      parseFloat(str) // #.f, parseFloat('2.2em') == 2.2
      parseInt(str, base=10) // number, parseInt('2.2em') = 2
        255 = parseInt('ff', 16) = parseInt('0xff', 16)
      Math.
        PI // 3.14
        E // 2.718, euler's number
        random()//0~1
        min|max(...n) // smallest|biggest n
        pow(n, power) // n ** power
        abs(¬±n) // n
    ‚ñ∏bigInt
    ‚ñ∏string utf-16
      üí°arr-like: str.lentgh str[i] str.at(¬±i) ...str for..of
      
      str.toUpperCase()
      str.toLowerCase()
      
      str.indexOf(subStr, fromIndex)
      str.lastIndexOf()
      
      str.includes(subStr)
      str.startsWith()
      str.endsWith()
      
      str.slice(start=0, end=str.length)
        üí°negative: 'stringify'.slice(-4, -1) == 'gif'
        ‚ö†Ô∏èend excluded
      str.substring(start=0, end=str.length)
        üí°unorder: 'stringify'.substring(6, 2) == 'ring'
        ‚ö†Ô∏èend excluded
      str.substr(start=0, length=rest)
        üí°negative: 'stringify'.substr(-4, 2) == 'gi'

      str.codePointAt(pos)
        'Z'.codePointAt(0).toString(16) == '5a'
      String.fromCodePoint(code)//str
        String.fromCodePoint(0x5a) // 'Z'

      str.localeCompare(str2) //-1| 1| 0: str < > = str2

      str.trim() //str without start & end whiteSpace
      str.trimStart()
      str.trimEnd()

      str.repeat(n)

      str.concat(...strings)
      
      str.replace(SubStr, replacement)
      str.replaceAll()

      str.split(separatorStr='')
    ‚ñ∏symbol
    ‚ñ∏boolean
    ‚ñ∏null
    ‚ñ∏undefined
  ‚ñ™data types "object"
    ‚ñ∏objcet
      Object.is(a, b) // boolean, a === b, 0 !== -0
    ‚ñ∏array
      .push(...items) //to end
      .pop()
    ‚ñ∏set
    ‚ñ∏map
    ‚ñ∏json
  ‚ñ™module
    "use strict" applyed by default!!
    scope are private top-lvl, accessible only by export/import
    this = undefined ‚â† window on top-lvl
    await can be used on top-lvl
    only 1st time evaluated, & shared between all imports
    only 1st external shared src fetched & executed
    
    <script type=module> the attribute are required!!
    defer attribute preserved by defualt, same as <sm defer>
      parse html __________________________.
      <sm>           .......................__execute__
      <sm src>       .__fetch__.............__execute__
      
    async attribute compatible even inline, src not required!!
      parse html ______________.............___________
      <sm async>               .__execute__.
      <sm src async> .__fetch__.__execute__.

    CORS header require for external script from other origin
      <sm src="http://another-site.com/their.js">
      remote server header: Access-Control-Allow-Origin
      else it won't fetched for security reasons!!

    bare module supported by nodeJS & bundle tools, but ‚â†browser
      import {v} from './scriptNam.js'//valid by all
      import {v} from 'scriptName' //no Path, invalid in browser

    compatibility fallbacks: for old browsers
      <script type=module> //ignored by old browsers
      <script nomodule> alert('module unsupported') </script>

    ‚ñ∏usage:
      export declaration
        export const/let n1 = 1, n2 = 2
        export const { n1, n2 } = obj
        export const [ n1, n2 ] = arr
        export function n(){}
        export function* n(){}
        export class n{}
      export list
        export { n1, n2, ... }
        export { n1 as reName, ... }
        export { n1 as 'str name', ... }
        export { n1 as default, ... }
      export default (‚ö†Ô∏è only once in module)
        export default expression
        export default function n(){}  | function(){}
        export default function* n(){} | function*(){}
        export default class n{}       | class{}
      reExport (aggregating modules) (‚ö†Ô∏èunavailable currently)
          ‚ö†Ô∏è * export only named ones exluding default !!
        export *                             from 'module-name'
        export * as name                     from 'module-name'
        export { default, n1, ... }          from 'module-name'
        export { defualt as rn, n as rn,...} from 'module-name'

      imports
        import defaultErport                 from 'module-name'
        import * as name                     from 'module-name'
        import { n1, n2, ... }               from 'module-name'
        import { n1 as alias, ...}           from 'module-name'
        import { default as alias, ... }     from 'module-name'
        import { 'str name' as alias }       from 'module-name'
        import defaultErport, { n1, ... }    from 'module-name'
        import defaultErport, * as name      from 'module-name'
        import                                    'module-name'

      dynamic imports (‚ö†Ô∏è import() is not function, its special)
        const { default: rename, n1, ... } = await import(url)
        /* then do something with imported default, n1 ... */
  ‚ñ™proxy & reflect
    syntax: 
      new Proxy(target, handler)
      recursive: let {proxy, revoke} = Proxy.revocable(t,h)
    terms:
      target: object (including function generator class)
      handler: object contait traps methods
      revoke: if envoked: cut proxy reference to original target
    ‚ö†Ô∏èÔ∏è(set, deleteProperty) traps must return true if success
    reflect: Reflect.<trap>(...arguments) keep org behaviour
    [[internal method]] handler trap      triggers when...
      Get               get               reading property
      Set               set               writing to property
      HasProperty	      has               in operator
      Delete	          deleteProperty    delete operator
      Call              apply             function call
      Construct         construct         new operator
      GetPrototypeOf    getPrototypeOf    Object.getPrototypeOf
      SetPrototypeOf    setPrototypeOf    Object.setPrototypeOf
      IsExtensible      isExtensible      Object.isExtensible
      PreventExtensions preventExtensions
                                        Object.preventExtensions
      DefineOwnProperty defineProperty    Object.defineProperty
                                          Object.defineProperties
      GetOwnProperty    getOwnPropertyDescriptor
                                Object.getOwnPropertyDescriptor
                                          Object.keys
                                          Object.values
                                          Object.entries
                                          for..in
      OwnPropertyKeys   ownKeys	     Object.getOwnPropertyNames
                                   Object.getOwnPropertySymbols
                                          Object.keys
                                          Object.values
                                          Object.entries
                                          for..in

‚ãÜbrowser
  ‚ñ™document
    üí°document are entry point to module 'DOM'
    üí°nodes are read-only, modified only by dom methods !!
    üí°collection are arr-like: c[i] c.length for..of ...spread
    ‚ñ∏navigation:
                               parentNode (including document)
                                   |
             <--previousSibling__.node.__nextSibling-->
                             /     |      \
             <--firstChild__/  childNodes  \__lastChild-->

      pn.hasChildNodes() // boolean
      pn.childNodes    // nodes collection
      pn.firstChild    // pn.childNodes[0]
      pn.lastChild     // pn.childNodes[n.childNodes.length - 1]
      cn.parentNode       // pn (üí°including document)
        document.documentElement.parentNode // document
      cn2.nextSibling     // cn3
      cn2.previousSibling // cn1

      
      
      /* elements only */ 
                              parentElement (document === null)
                                   |
      <--previousElementSibling__.node.__nextElementSibling-->
                              /    |     \
       <--firstElementChild__/  children  \__lastElementChild-->
      
      pn.children      // elements collection
      pn.firstChild    // pn.children[0]
      pn.lastChild     // pn.children[n.children.length - 1]
      cn.parentElement       // pEl (‚ö†Ô∏èexcluding document)
        document.documentElement.parentElement // null
      cn2.nextElementSibling     // cEl3
      cn2.previousElementSibling // cEl1


      /* only tabes */
      table.caption // caption el
      table.tHead   // thead ctx
      table.tFoot   // tfoot ctx
      table.tBodies // tbody collection ctxs

      table.rows    // tr collection els of entire table
      thead.rows    // tr collection of current thead ctx
      tbody.rows    // tr collection of current tbody ctx
      tfoot.rows    // tr collection of current tfoot ctx

      tr.cells      // th/td collection
      tr.rowIndex   // relative to entire table
      tr.sectionRowInex // relative to current ctx

      th.cellIndex  // relative to current row tr ctx
      td.cellIndex  // relative to current row tr ctx
    ‚ñ∏searching elements
      document.getElementById('idName') // unique element
        ‚ö†Ô∏èerror: anyEl.getElementById('idName')
        üí°same as: globalThis['idName']    // unrecommended
        üí°same as simply variable : idName // unrecommended
      el.querySelectorAll('cssSelector') // els collection
      el.querySelector('cssSelector') // first matched el
        üí°same as: el.querySelectorAll()[0] // but faster
      el.matches(cssSelector) // boolean
      el.closest(cssSelector) // closest matched ancestor el
      el.contains(descendent_Node) // boolean

      üí°history methods (useless): //return el collection
      ‚ö†Ô∏èissue: return "live" value not static!!
        if we save reference to the returned collection,
        and we add/remove els to/from the collection,
        then the reference will be updated automaticly
      el.getElementsByTagName('tagName')
      el.getElementsByClassName('className')
      document.getElementsByName('nameAttribute')
        ‚ö†Ô∏èerror: anyEl.getElementsByName()
    ‚ñ∏basics: classes hierarchy & inheritance ...
      readOnly
        Node.nodeType //1=el, 3=txt, 8=comment, 9=document, ...
        Node.nodeName | Element.tagName //upperCase
      modification
        Element.innerHTML?outerHTML
          ‚ö†Ô∏èel.innerHTML += '...' //UX--, performance--
            rerender all el content, user will lose progress.
          ‚ö†Ô∏èlet ref = el.outerHTML; ref = '...' // ref preserved
            'newHtml' applyed, but still ref = 'oldHtml' !!
        CharacterData.data | Node.nodeValue
        Node.textContent | HTMLElement.innerText?outerText
          ‚ö†Ô∏èsetting will replace all childNodes with 'str'
          üí°innerText ignore  <script & style> & hidden els
            html attribute:  <el hidden> hidden text </el>
            css           :  el { display:hidden }
            java script   :  el.hidden = true 
        HTMLElement.hidden
        Element.id
    ‚ñ∏attributes:
      üí°most standard ones have corresponding dom properties
      ‚ö†Ô∏èhref property have full url while .getAttribute('href')
  ‚ñ™loading document & resources
    ‚ñ∏state:
      document.readyState = 'loading | interactive | complete'
        interactive: dom are ready to manipulate by js.
        complete: dom & all resources (iframes, imgs...) loaded
    
    ‚ñ∏events:
      document.addEventListener('readystatechange', handler)
        //from loading to interactive
        //from interactive to complete

      window.onload
      //instantly after as document.readyState = 'complete'

      //popup: ask the user if he sure about reload|leave
      window.onbeforeunload = () => false | 'msg'
      //or:
      window.addEventListener('beforeunload',e => {
        //e.preventDefault() //don't work
        e.returnValue = 'msg' //use this instead (untested)
      })

      //send analytics data to our server in the background
      const data = {} //about clicks, scrolls, viewed areas...
      window.onunload = () => navigator.sendBeacon(url, data)

    ‚ñ∏script async defer: (non-module require src attribute)
      parse html ________.......................___________
      <script src>       .__fetch__.__execute__.
      
      parse html ______________________________.
      <script src defer> .__fetch__.............__execute__
      
      parse html __________________.............___________
      <script src async> .__fetch__.__execute__.

      üí°script with type=module are defer by default
      üí°defer scripts depend on dom end, before DOMContentLoaded
        executing order: source code
      üí°async scripts are independent (ads, counters...)
        executing order: load_first (if cached: source code)
        ex: <script async src="https://google-analytics.com/analytics.js"></script>

‚ãÜaddition:

  ‚ñ™ArrayBuffer binary array
    new ArrayBuffer(16)
    ‚ö†Ô∏èArrayBuffer are not Array, so buffer[i] invalid!!
    ‚ñ∏accessors:
    üí°byte = 8bit, is area in memory.
      Unit8Array   each byte   = integer 0 ~ 255
      Unit16Array  each 2bytes = integer 0 ~ 65,535
      Unit32Array  each 4bytes = integer 0 ~ 4,294,967,295
      Float64Array each 8bytes = floatPoint 5.0e-324 ~ 1.8e308


  ‚ñ™network
    ‚ñ∏fetch(url, options)
      options are object of:
      method: 
        get/post/head
        <unsafe-custom> as put/delete/patch/...
        options, "preFlight" request made by browsre if unsafe
      headers: (safe)
        üí°request headers:
        origin (added automaticly in cross-origin request)
        Accept
        Accept-Language
        Content-Language
        Cache-Control
        Content-Length
        Content-Type:
          application/x-www-form-urlencoded
          multipart/form-data
          text/plain
          <unsafe-custom>
        Expires
        Last-Modified
        Pragma
        <unsafe-custom> as API-Key/...
        üí°response headers: 
        1: cross-origin "preFlight" response: (status:200 ok)
        Access-Control-Allow-Origin: * | origin
        Access-Control-Request-Method: comma separated methods
        Access-Control-Expose-Headers: comma separated headers
